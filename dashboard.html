<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Future Xion</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
</head>
<body>
    
    <div class="dashboard-layout">
        
        <aside class="sidebar">
            <div class="logo">future<span class="logo-xion">Xion</span></div>
            <nav>
                <a href="#" class="active"><i class="fas fa-chart-pie"></i> Dashboard</a>
                <a href="activity.html"><i class="fas fa-pen-nib"></i> Ghi nhận Hoạt động</a>
                <a href="report.html"><i class="fas fa-file-alt"></i> Hồ sơ Kỹ năng (CV)</a>
                <a href="settings.html"><i class="fas fa-cog"></i> Cài đặt</a>
                <a href="auth.html"><i class="fas fa-sign-out-alt"></i> Đăng xuất</a>
            </nav>
        </aside>

        <main class="main-content">
            <div class="dashboard-header">
                <h1 id="welcome-message">Chào mừng, Sinh viên X!</h1>
                <a href="activity.html" class="btn btn-accent"><i class="fas fa-plus"></i> Ghi nhận Hoạt động Mới</a>
            </div>

            <div class="stats-grid">
                <div class="stat-card" style="grid-column: span 1;">
                    <h3><i class="fas fa-bullseye primary-color"></i> Mục tiêu Phát triển</h3>
                    <p style="font-size: 1.5em; font-weight: 500; color: var(--color-text-dark);">Tăng Leadership lên 4.5</p>
                    <p style="font-size: 0.9em; color: var(--color-primary);">Tiến độ: 4.2 / 4.5 (+80%)</p>
                </div>
                <div class="stat-card" style="grid-column: span 1;">
                    <h3><i class="fas fa-award accent-color"></i> Huy hiệu & XP</h3>
                    <p style="font-size: 1.5em; font-weight: 500; color: var(--color-text-dark);">Chiến Binh Teamwork</p>
                    <p style="font-size: 0.9em; color: var(--color-accent);">Tổng XP: 1500 XP</p>
                </div>
                <div class="stat-card" style="grid-column: span 1;">
                    <h3><i class="fas fa-lightbulb primary-color"></i> Hành động Khuyến nghị</h3>
                    <p style="font-size: 1.5em; font-weight: 500; color: var(--color-text-dark);">Tham gia CLB Debate</p>
                    <p style="font-size: 0.9em; color: var(--color-text-medium);">Cải thiện: Tư duy Phản biện (2.8)</p>
                </div>
            </div>

            <div class="chart-area" style="margin-bottom: 40px;">
                <h2>Biểu đồ Đo lường Kỹ năng Tổng hợp</h2>
                <div style="height: 400px; width: 100%;">
                    <canvas id="skillsRadarChart"></canvas>
                </div>
            </div>

            <div class="activity-log">
                <h2>Hoạt động Đã Ghi nhận Gần đây</h2>
                <div class="chart-area">
                    <table class="activity-table">
                        <thead>
                            <tr>
                                <th>Hoạt động</th>
                                <th>Vai trò</th>
                                <th>Kỹ năng chính</th>
                                <th>Thao tác</th>
                            </tr>
                        </thead>
                        <tbody id="activity-table-body">
                            <tr>
                                <td>Dự án "Green Campus"</td>
                                <td>Trưởng nhóm</td>
                                <td>Lãnh đạo, Teamwork</td>
                                <td><button class="btn-link"><i class="fas fa-edit"></i> Sửa</button> <button class="btn-link" style="color: red;">Xóa</button></td>
                            </tr>
                            <tr>
                                <td>Khóa học "Communication"</td>
                                <td>Học viên</td>
                                <td>Giao tiếp, Thuyết trình</td>
                                <td><button class="btn-link"><i class="fas fa-edit"></i> Sửa</button> <button class="btn-link" style="color: red;">Xóa</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </main>
    </div>

    <script>
        const userName = localStorage.getItem('currentUser') || 'Sinh viên Future Xion';
        document.getElementById('welcome-message').textContent = `Chào mừng, ${userName}!`;
        
        // Dữ liệu giả lập
        const mockData = {
            labels: [
                'Lãnh đạo (4.2)',
                'Giao tiếp (3.8)',
                'Giải quyết Vấn đề (4.5)',
                'Làm việc nhóm (4.0)',
                'Tư duy Phản biện (2.8)',
            ],
            datasets: [{
                label: 'Điểm Phát triển Kỹ năng (Max 5.0)',
                data: [4.2, 3.8, 4.5, 4.0, 2.8],
                fill: true,
                backgroundColor: 'rgba(26, 67, 124, 0.3)',
                borderColor: 'var(--color-primary)',
                pointBackgroundColor: 'var(--color-accent)',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: 'var(--color-accent)'
            }]
        };

        const config = {
            type: 'radar',
            data: mockData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                        grid: { color: 'rgba(0, 0, 0, 0.1)' },
                        pointLabels: { font: { size: 14, family: 'Poppins' }, color: 'var(--color-text-dark)' },
                        suggestedMin: 0,
                        suggestedMax: 5.0,
                        ticks: { stepSize: 1.0, color: 'var(--color-text-medium)' }
                    }
                },
                plugins: {
                    legend: { display: true, position: 'top', labels: { font: { family: 'Poppins' } } },
                    tooltip: { callbacks: { label: (context) => { return ` Điểm: ${context.formattedValue}`; } } }
                }
            },
        };

        window.onload = function() {
            var ctx = document.getElementById('skillsRadarChart').getContext('2d');
            new Chart(ctx, config);
        };
    </script>
</body>
</html>